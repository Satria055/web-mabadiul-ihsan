(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,31278,e=>{"use strict";let a=(0,e.i(75254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>a],31278)},71689,e=>{"use strict";let a=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>a],71689)},56909,e=>{"use strict";let a=(0,e.i(75254).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);e.s(["Save",()=>a],56909)},3408,e=>{"use strict";let a=(0,e.i(75254).default)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);e.s(["default",()=>a])},73708,e=>{"use strict";var a=e.i(3408);e.s(["Image",()=>a.default])},68726,e=>{"use strict";var a=e.i(43476),r=e.i(95187);let s=(0,r.createServerReference)("404677c13c572bba66a3be7a91a079cd39a34f9ddd",r.callServer,void 0,r.findSourceMapURL,"createPageMeta"),t=(0,r.createServerReference)("607c538e9087cd7050d494f6c5f4597f30ebea2ca7",r.callServer,void 0,r.findSourceMapURL,"updatePageMeta");var l=e.i(71645),i=e.i(56909),o=e.i(31278),n=e.i(73708),d=e.i(71689),c=e.i(22016),m=e.i(18566),u=e.i(61418);function x({data:e}){let r=(0,m.useRouter)(),[x,p]=(0,l.useState)(!1),[f,g]=(0,l.useState)(e?.image||null),[b,h]=(0,l.useState)({show:!1,type:"success",message:""}),y=async a=>{a.preventDefault(),p(!0);let l=new FormData(a.currentTarget);try{let a;(a=e?await t(e.id,l):await s(l)).success?(h({show:!0,type:"success",message:a.message}),setTimeout(()=>{r.push("/admin/halaman"),r.refresh()},1500)):h({show:!0,type:"error",message:a.message})}catch(e){console.error(e),h({show:!0,type:"error",message:"Terjadi kesalahan sistem."})}finally{p(!1)}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u.default,{isVisible:b.show,type:b.type,message:b.message,onClose:()=>h({...b,show:!1})}),(0,a.jsxs)("form",{onSubmit:y,className:"pb-20",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)(c.default,{href:"/admin/halaman",className:"text-gray-500 hover:text-maroon-primary text-sm font-bold flex items-center gap-1 mb-2",children:[(0,a.jsx)(d.ArrowLeft,{size:16})," Kembali"]}),(0,a.jsx)("h1",{className:"text-2xl font-serif font-bold text-gray-800",children:e?`Edit Halaman: /${e.slug}`:"Buat Halaman Baru"})]}),(0,a.jsxs)("button",{type:"submit",disabled:x,className:"bg-maroon-primary text-white px-6 py-3 rounded-lg font-bold flex items-center gap-2 hover:bg-maroon-dark transition-all disabled:opacity-70 shadow-lg shadow-maroon-primary/20",children:[x?(0,a.jsx)(o.Loader2,{className:"animate-spin",size:20}):(0,a.jsx)(i.Save,{size:20}),e?"Simpan Perubahan":"Publikasikan Halaman"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,a.jsx)("div",{className:"lg:col-span-2 space-y-6",children:(0,a.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[(0,a.jsx)("h3",{className:"font-bold text-gray-800 mb-4 border-b pb-2",children:"Informasi Halaman"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Slug (URL)"}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("span",{className:"bg-gray-100 text-gray-500 px-3 py-2.5 border border-r-0 border-gray-300 rounded-l-lg text-sm font-mono",children:"domain.com/"}),(0,a.jsx)("input",{type:"text",name:"slug",defaultValue:e?.slug||"",readOnly:!!e,placeholder:"contoh: kontak",className:`w-full px-4 py-2.5 border border-gray-300 rounded-r-lg outline-none font-mono text-sm ${e?"bg-gray-50 text-gray-500 cursor-not-allowed":"focus:ring-2 focus:ring-maroon-primary"}`})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-xs font-bold text-gray-700 uppercase mb-1",children:["Judul Utama (Header) ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("input",{type:"text",name:"title",defaultValue:e?.title||"",required:!0,className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-maroon-primary focus:border-maroon-primary outline-none transition-all"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-bold text-gray-700 uppercase mb-1",children:"Deskripsi Singkat / Sub-Judul"}),(0,a.jsx)("textarea",{name:"description",rows:3,defaultValue:e?.description||"",className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-maroon-primary focus:border-maroon-primary outline-none transition-all"})]})]})]})}),(0,a.jsx)("div",{className:"lg:col-span-1 space-y-6",children:(0,a.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[(0,a.jsx)("h3",{className:"font-bold text-gray-800 mb-4 border-b pb-2",children:"Gambar Banner"}),(0,a.jsx)("div",{className:"aspect-video w-full bg-gray-100 rounded-lg overflow-hidden border border-gray-300 relative mb-4 group",children:f?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("img",{src:f,alt:"Preview",className:"w-full h-full object-cover"}),(0,a.jsx)("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:(0,a.jsx)("span",{className:"text-white text-xs font-bold",children:"Ganti Gambar"})})]}):(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-gray-400",children:[(0,a.jsx)(n.Image,{size:32}),(0,a.jsx)("span",{className:"text-xs mt-2",children:"Belum ada gambar"})]})}),(0,a.jsx)("label",{className:"block",children:(0,a.jsx)("input",{type:"file",name:"image",accept:"image/*",onChange:e=>{let a=e.target.files?.[0];a&&g(URL.createObjectURL(a))},className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2.5 file:px-4 file:rounded-full file:border-0 file:text-xs file:font-semibold file:bg-maroon-primary/10 file:text-maroon-primary hover:file:bg-maroon-primary/20 cursor-pointer"})})]})})]})]})]})}e.s(["default",()=>x],68726)}]);