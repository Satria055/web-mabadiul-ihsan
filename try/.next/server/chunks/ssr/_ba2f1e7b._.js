module.exports=[96221,a=>{"use strict";let b=(0,a.i(70106).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],96221)},210,a=>{"use strict";let b=(0,a.i(70106).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);a.s(["ArrowLeft",()=>b],210)},14548,a=>{"use strict";let b=(0,a.i(70106).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);a.s(["Save",()=>b],14548)},49625,a=>{"use strict";let b=(0,a.i(70106).default)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);a.s(["default",()=>b])},38632,a=>{"use strict";var b=a.i(49625);a.s(["Image",()=>b.default])},3497,a=>{"use strict";var b=a.i(87924),c=a.i(5050);let d=(0,c.createServerReference)("404677c13c572bba66a3be7a91a079cd39a34f9ddd",c.callServer,void 0,c.findSourceMapURL,"createPageMeta"),e=(0,c.createServerReference)("607c538e9087cd7050d494f6c5f4597f30ebea2ca7",c.callServer,void 0,c.findSourceMapURL,"updatePageMeta");var f=a.i(72131),g=a.i(14548),h=a.i(96221),i=a.i(38632),j=a.i(210),k=a.i(38246),l=a.i(50944),m=a.i(31419);function n({data:a}){let c=(0,l.useRouter)(),[n,o]=(0,f.useState)(!1),[p,q]=(0,f.useState)(a?.image||null),[r,s]=(0,f.useState)({show:!1,type:"success",message:""}),t=async b=>{b.preventDefault(),o(!0);let f=new FormData(b.currentTarget);try{let b;(b=a?await e(a.id,f):await d(f)).success?(s({show:!0,type:"success",message:b.message}),setTimeout(()=>{c.push("/admin/halaman"),c.refresh()},1500)):s({show:!0,type:"error",message:b.message})}catch(a){console.error(a),s({show:!0,type:"error",message:"Terjadi kesalahan sistem."})}finally{o(!1)}};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(m.default,{isVisible:r.show,type:r.type,message:r.message,onClose:()=>s({...r,show:!1})}),(0,b.jsxs)("form",{onSubmit:t,className:"pb-20",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)(k.default,{href:"/admin/halaman",className:"text-gray-500 hover:text-maroon-primary text-sm font-bold flex items-center gap-1 mb-2",children:[(0,b.jsx)(j.ArrowLeft,{size:16})," Kembali"]}),(0,b.jsx)("h1",{className:"text-2xl font-serif font-bold text-gray-800",children:a?`Edit Halaman: /${a.slug}`:"Buat Halaman Baru"})]}),(0,b.jsxs)("button",{type:"submit",disabled:n,className:"bg-maroon-primary text-white px-6 py-3 rounded-lg font-bold flex items-center gap-2 hover:bg-maroon-dark transition-all disabled:opacity-70 shadow-lg shadow-maroon-primary/20",children:[n?(0,b.jsx)(h.Loader2,{className:"animate-spin",size:20}):(0,b.jsx)(g.Save,{size:20}),a?"Simpan Perubahan":"Publikasikan Halaman"]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,b.jsx)("div",{className:"lg:col-span-2 space-y-6",children:(0,b.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[(0,b.jsx)("h3",{className:"font-bold text-gray-800 mb-4 border-b pb-2",children:"Informasi Halaman"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Slug (URL)"}),(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)("span",{className:"bg-gray-100 text-gray-500 px-3 py-2.5 border border-r-0 border-gray-300 rounded-l-lg text-sm font-mono",children:"domain.com/"}),(0,b.jsx)("input",{type:"text",name:"slug",defaultValue:a?.slug||"",readOnly:!!a,placeholder:"contoh: kontak",className:`w-full px-4 py-2.5 border border-gray-300 rounded-r-lg outline-none font-mono text-sm ${a?"bg-gray-50 text-gray-500 cursor-not-allowed":"focus:ring-2 focus:ring-maroon-primary"}`})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-xs font-bold text-gray-700 uppercase mb-1",children:["Judul Utama (Header) ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("input",{type:"text",name:"title",defaultValue:a?.title||"",required:!0,className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-maroon-primary focus:border-maroon-primary outline-none transition-all"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-gray-700 uppercase mb-1",children:"Deskripsi Singkat / Sub-Judul"}),(0,b.jsx)("textarea",{name:"description",rows:3,defaultValue:a?.description||"",className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-maroon-primary focus:border-maroon-primary outline-none transition-all"})]})]})]})}),(0,b.jsx)("div",{className:"lg:col-span-1 space-y-6",children:(0,b.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[(0,b.jsx)("h3",{className:"font-bold text-gray-800 mb-4 border-b pb-2",children:"Gambar Banner"}),(0,b.jsx)("div",{className:"aspect-video w-full bg-gray-100 rounded-lg overflow-hidden border border-gray-300 relative mb-4 group",children:p?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("img",{src:p,alt:"Preview",className:"w-full h-full object-cover"}),(0,b.jsx)("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:(0,b.jsx)("span",{className:"text-white text-xs font-bold",children:"Ganti Gambar"})})]}):(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-gray-400",children:[(0,b.jsx)(i.Image,{size:32}),(0,b.jsx)("span",{className:"text-xs mt-2",children:"Belum ada gambar"})]})}),(0,b.jsx)("label",{className:"block",children:(0,b.jsx)("input",{type:"file",name:"image",accept:"image/*",onChange:a=>{let b=a.target.files?.[0];b&&q(URL.createObjectURL(b))},className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2.5 file:px-4 file:rounded-full file:border-0 file:text-xs file:font-semibold file:bg-maroon-primary/10 file:text-maroon-primary hover:file:bg-maroon-primary/20 cursor-pointer"})})]})})]})]})]})}a.s(["default",()=>n],3497)}];

//# sourceMappingURL=_ba2f1e7b._.js.map