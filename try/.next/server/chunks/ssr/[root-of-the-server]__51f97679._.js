module.exports=[37936,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"registerServerReference",{enumerable:!0,get:function(){return d.registerServerReference}});let d=a.r(11857)},13095,(a,b,c)=>{"use strict";function d(a){for(let b=0;b<a.length;b++){let c=a[b];if("function"!=typeof c)throw Object.defineProperty(Error(`A "use server" file can only export async functions, found ${typeof c}.
Read more: https://nextjs.org/docs/messages/invalid-use-server-value`),"__NEXT_ERROR_CODE",{value:"E352",enumerable:!1,configurable:!0})}}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"ensureServerEntryExports",{enumerable:!0,get:function(){return d}})},24868,(a,b,c)=>{b.exports=a.x("fs/promises",()=>require("fs/promises"))},66484,a=>{"use strict";var b=a.i(63707),c=a.i(37936),d=a.i(66518),e=a.i(18558),f=a.i(24868),g=a.i(14747);async function h(a,b="file"){if(!a||0===a.size)return null;let c=Buffer.from(await a.arrayBuffer()),d=a.name.replace(/[^a-zA-Z0-9.-]/g,"-"),e=`${b}-${Date.now()}-${d}`,i=g.default.join(process.cwd(),"public","uploads");try{return await (0,f.mkdir)(i,{recursive:!0}),await (0,f.writeFile)(g.default.join(i,e),c),`/uploads/${e}`}catch(a){return console.error("Gagal upload file:",a),null}}async function i(a){try{let b=a.get("siteName"),c=a.get("heroTitle"),f=a.get("heroSubtitle"),g=a.get("videoUrl"),i=a.get("brosurUrl"),j=a.get("registrationUrl"),k=a.get("address"),l=a.get("phone"),m=a.get("email"),n=a.get("facebook"),o=a.get("instagram"),p=a.get("youtube"),q=a.get("history"),r=a.get("vision"),s=a.get("mission"),t=a.get("greeting"),u={siteName:b,heroTitle:c,heroSubtitle:f,videoUrl:g,brosurUrl:i,registrationUrl:j,address:k,phone:l,email:m,facebook:n,instagram:o,youtube:p,history:q,vision:r,mission:s,greeting:t},v=a.get("logoUrl");if(v&&v.size>0){let a=await h(v,"logo");a&&(u.logoUrl=a)}let w=a.get("profileImage");if(w&&w.size>0){let a=await h(w,"profile");a&&(u.profileImage=a)}let x=a.get("chairmanImage");if(x&&x.size>0){let a=await h(x,"chairman");a&&(u.chairmanImage=a)}return await d.prisma.siteConfig.upsert({where:{id:1},update:u,create:{...u,logoUrl:u.logoUrl||"/logo-placeholder.png"}}),(0,e.revalidatePath)("/"),(0,e.revalidatePath)("/profil/yayasan"),(0,e.revalidatePath)("/admin/pengaturan"),{success:!0,message:"Konfigurasi & Profil berhasil disimpan!"}}catch(a){return console.error("Update Config Error:",a),{success:!1,message:"Gagal menyimpan konfigurasi."}}}(0,a.i(13095).ensureServerEntryExports)([i]),(0,c.registerServerReference)(i,"401b9452576b557657bc97bfff5cfa26e9f4ea95f2",null),a.s([],14553),a.i(14553),a.s(["0092b0907e68a3999a3d165d87486d112e619ba333",()=>b.logoutAction,"401b9452576b557657bc97bfff5cfa26e9f4ea95f2",()=>i],66484)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__51f97679._.js.map